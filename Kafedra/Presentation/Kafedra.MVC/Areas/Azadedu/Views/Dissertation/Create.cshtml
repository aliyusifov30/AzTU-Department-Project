@using Kafedra.Domain.Enums;

@{
    ViewData["Title"] = "Create";
}

@model DissertationCreateDto

<div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header">
        <div class="container-fluid">
            <div class="row mb-2">
                <div class="col-sm-12" style="padding: 20px; display: flex; justify-content: center; align-items: center;">
                    <h1>Create Dissertation</h1>
                </div>
            </div>
        </div><!-- /.container-fluid -->
    </section>

    <!-- Main content -->
    <section class="content">
        <div class="container-fluid">
            <div class="row">
                <div class="col-12">
                    <div class="row">
                        <div class="col-lg-12"> 
                            <form method="post" enctype="multipart/form-data">

                                <div class="mb-3">
                                    <label asp-for="Name" class="form-label">Name</label>
                                    <input asp-for="Name" class="form-control">
                                    <span asp-validation-for="Name" class="text-danger"></span>
                                </div>

                               
                                @*<div class="img-box-big d-flex justify-content-center align-items-center">
                                        <img src="~/uploads/events/@Model.Image" style="width:400px;height:400px;object-fit:cover;" />
                                </div>*@
                                
                                <div class="mb-3">
                                    <label asp-for="Description" class="form-label">Description</label>
                                    <textarea asp-for="Description" class="form-control" id="editor" rows="3"></textarea>
                                    <span class="text-danger" asp-validation-for="Description"></span>
                                </div>

                                <div class="mb-3">
                                    <label asp-for="Manager" class="form-label">Manager</label>
                                    <textarea asp-for="Manager" class="form-control" rows="3"></textarea>
                                    <span class="text-danger" asp-validation-for="Manager"></span>
                                </div>

                                <div class="mb-3">
                                    <label asp-for="Author" class="form-label">Author</label>
                                    <input asp-for="Author" class="form-control">
                                    <span class="text-danger" asp-validation-for="Author"></span>
                                </div>

                                <div class="mb-3">
                                    <label asp-for="Topic" class="form-label">Topic</label>
                                    <input asp-for="Topic" class="form-control">
                                    <span class="text-danger" asp-validation-for="Topic"></span>
                                </div>

                                <div class="mb-3">
                                    <label asp-for="Point" class="form-label">Point</label>
                                    <input asp-for="Point" class="form-control">
                                    <span class="text-danger" asp-validation-for="Point"></span>
                                </div>

                                <div class="mb-3">
                                    <label asp-for="DissertationType" class="form-label">DissertationType</label>
                                    <select class="form-control" asp-for="DissertationType" asp-items="@Html.GetEnumSelectList<DissertationType>()"></select>
                                    <span class="text-danger" asp-validation-for="DissertationType"></span>
                                </div>

                                <div class="mb-3">
                                    <label asp-for="File" class="form-label">File</label>
                                    <input asp-for="File" class="form-control img-upload-input">
                                    <span class="text-danger" asp-validation-for="File"></span>
                                </div>


                                <div class="form-group col-lg-6">
                                    <label asp-for="QualificationId">Qualification</label>
                                    <select class="form-control" asp-for="QualificationId" asp-items="@new SelectList((List<Qualification>)ViewBag.Qualification,nameof(Qualification.Id),nameof(Qualification.Name))"></select>
                                    <span asp-validation-for="QualificationId" class="text-danger"></span>
                                </div>

                                <div class="col-lg-12">
                                    <div class="form-group">
                                        <label>
                                            Publication Year
                                        </label>
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text"><i class="far fa-clock"></i></span>
                                            </div>
                                            <input type="datetime" name="publicationYear" class="form-control float-right datepicker" id="reservationdatePublicationYearTime">
                                        </div>
                                    </div>
                                </div>


                                <div class="col-lg-12">
                                    <div class="form-group">
                                        <label>
                                            Defense Year
                                        </label>
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text"><i class="far fa-clock"></i></span>
                                            </div>
                                            <input type="datetime" name="defenseYear" class="form-control float-right datepicker" id="reservationdateDefenseYearTime">
                                        </div>
                                    </div>
                                </div>

                               @* <div class="col-lg-12">
                                    <div class="form-group">
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text"><i class="far fa-clock"></i></span>  
                                            </div>
                                            <input type="datetime" name="time" class="form-control float-right datepicker" id="reservationtime">
                                        </div>
                                    </div>
                                </div>*@

                                <button type="submit" class="btn btn-outline-dark">Submit</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div><!-- /.container-fluid -->
    </section>
    <!-- /.content -->
</div>



@section Scripts{
    @await Html.PartialAsync("_ValidationPartial")

    <script src="https://cdn.ckeditor.com/ckeditor5/32.0.0/classic/ckeditor.js"></script>

    <script>
        ClassicEditor
            .create(document.querySelector('#editor'))
            .catch(error => {
                console.error(error);
            });
    </script>

    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js" integrity="sha512-uto9mlQzrs59VwILcLiRYeLKPPbS/bT71da/OEBYEwcdNUk8jYIy+D176RYoop1Da+f9mvkYrmj5MCLZWEtQuA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <script type="text/javascript" src="https://cdn.jsdelivr.net/jquery/latest/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>

    <script>

        //$(function () {
        //    $('#reservationdatePublicationYear').daterangepicker({
        //        singleDatePicker: true,
        //        showDropdowns: true,
        //        minYear: 1901,
        //        maxYear: parseInt(moment().format('YYYY'), 10)
        //    }, function (start, end, label) {
        //        var years = moment().diff(start, 'years');
        //    });
        //});

        //$(function () {
        //    $('#reservationdateDefenseYear').daterangepicker({
        //        singleDatePicker: true,
        //        showDropdowns: true,
        //        minYear: 1901,
        //        maxYear: parseInt(moment().format('YYYY'), 10)
        //    }, function (start, end, label) {
        //        var years = moment().diff(start, 'years');
        //    });
        //});




        $('#reservationdatePublicationYearTime').daterangepicker({
            "singleDatePicker": true,
            "showCustomRangeLabel": false,
            "startDate": moment(),
            "endDate": moment(),
            "opens": "center",
            "drops": "auto",
            locale: {
                format: 'DD/MM/YYYY'
            }
        }, function (start, end, label) {
            console.log('New date range selected: ' + start.format('YYYY-MM-DD') + ' to ' + end.format('YYYY-MM-DD') + ' (predefined range: ' + label + ')');
        });

        $('#reservationdateDefenseYearTime').daterangepicker({
            "singleDatePicker": true,
            "showCustomRangeLabel": false,
            "startDate": moment(),
            "endDate": moment(),
            "opens": "center",
            "drops": "auto",
            locale: {
                format: 'DD/MM/YYYY'
            }
        }, function (start, end, label) {
            console.log('New date range selected: ' + start.format('YYYY-MM-DD') + ' to ' + end.format('YYYY-MM-DD') + ' (predefined range: ' + label + ')');
        });

    </script>
}

@section Links{
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" />
}